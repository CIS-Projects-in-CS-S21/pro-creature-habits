{"version":3,"sources":["MaterialTabBarItem.tsx"],"names":["React","useMemo","memo","useCallback","Animated","transformOrigin","useValue","isEqual","useStableCallback","interpolate","styles","divide","Extrapolate","MaterialTabBarItemComponent","props","animatedFocus","animation","inactiveOpacity","inactiveScale","label","labelStyle","labelStyleOverride","icon","iconSize","spacing","innerVerticalSpace","innerHorizontalSpace","outerVerticalSpace","outerHorizontalSpace","labelHeight","outerContainerStyle","outerContainer","paddingHorizontal","paddingVertical","innerContainerStyle","innerContainer","opacity","inputRange","outputRange","extrapolate","CLAMP","transform","x","y","scale","iconContainerStyle","iconContainer","minHeight","minWidth","translateY","marginTop","handleLabelLayout","nativeEvent","layout","height","requestAnimationFrame","setValue","renderIcon","IconComponent","component","color","size","renderLabel","MaterialTabBarItem"],"mappings":"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","sourcesContent":["import React, { useMemo, memo, useCallback } from 'react';\nimport type { LayoutChangeEvent } from 'react-native';\nimport Animated from 'react-native-reanimated';\nimport { transformOrigin, useValue } from 'react-native-redash/lib/module/v1';\n// @ts-ignore ðŸ˜ž\nimport isEqual from 'lodash.isequal';\nimport { useStableCallback } from '../../../hooks';\nimport { interpolate } from '../../../utilities';\nimport type { MaterialTabBarItemProps } from '../types';\nimport { styles } from './styles';\n\nconst { divide, Extrapolate } = Animated;\n\nconst MaterialTabBarItemComponent = (props: MaterialTabBarItemProps) => {\n  // props\n  const {\n    animatedFocus,\n    animation,\n    inactiveOpacity,\n    inactiveScale,\n    label,\n    labelStyle: labelStyleOverride,\n    icon,\n    iconSize,\n    spacing,\n  } = props;\n\n  //#region extract props\n  const {\n    innerVerticalSpace,\n    innerHorizontalSpace,\n    outerVerticalSpace,\n    outerHorizontalSpace,\n  } = spacing;\n  //#endregion\n\n  //#region variables\n  const labelHeight = useValue<number>(0);\n  //#endregion\n\n  //#region styles\n  const outerContainerStyle = useMemo(\n    () => [\n      styles.outerContainer,\n      {\n        paddingHorizontal: outerHorizontalSpace,\n        paddingVertical: outerVerticalSpace,\n      },\n    ],\n    [outerHorizontalSpace, outerVerticalSpace]\n  );\n  const innerContainerStyle = useMemo(\n    () => [\n      styles.innerContainer,\n      {\n        paddingHorizontal: innerHorizontalSpace,\n        paddingVertical: innerVerticalSpace,\n        opacity: interpolate(animatedFocus, {\n          inputRange: [0, 1],\n          outputRange: [inactiveOpacity, 1],\n          extrapolate: Extrapolate.CLAMP,\n        }),\n        transform: transformOrigin(\n          {\n            x: 0,\n            y: 0,\n          },\n          {\n            scale: interpolate(animatedFocus, {\n              inputRange: [0, 1],\n              outputRange: [inactiveScale, 1],\n              extrapolate: Extrapolate.CLAMP,\n            }),\n          }\n        ),\n      },\n    ],\n    [\n      innerHorizontalSpace,\n      innerVerticalSpace,\n      animatedFocus,\n      inactiveOpacity,\n      inactiveScale,\n    ]\n  );\n  const iconContainerStyle = [\n    styles.iconContainer,\n    {\n      minHeight: iconSize,\n      minWidth: iconSize,\n      ...(animation === 'iconWithLabelOnFocus'\n        ? {\n            transform: transformOrigin(\n              {\n                x: 0,\n                y: 0,\n              },\n              {\n                translateY: interpolate(animatedFocus, {\n                  inputRange: [0, 1],\n                  outputRange: [divide(labelHeight, 2), 0],\n                  extrapolate: Extrapolate.CLAMP,\n                }),\n              }\n            ),\n          }\n        : {}),\n    },\n  ];\n  const labelStyle = useMemo(\n    () => [\n      styles.label,\n      labelStyleOverride,\n      {\n        marginTop: innerVerticalSpace / 2,\n        opacity: animation === 'iconWithLabelOnFocus' ? animatedFocus : 1,\n      },\n    ],\n    [labelStyleOverride, innerVerticalSpace, animation, animatedFocus]\n  );\n  //#endregion\n\n  //#region callbacks\n  const handleLabelLayout = useStableCallback(\n    ({\n      nativeEvent: {\n        layout: { height },\n      },\n    }: LayoutChangeEvent) =>\n      requestAnimationFrame(() => {\n        labelHeight.setValue(height);\n      })\n  );\n  //#endregion\n\n  // render\n  const renderIcon = useCallback(() => {\n    const IconComponent: any = icon.component;\n    return typeof IconComponent === 'function' ? (\n      IconComponent({\n        animatedFocus,\n        color: icon.color,\n        size: iconSize,\n      })\n    ) : (\n      <IconComponent\n        animatedFocus={animatedFocus}\n        color={icon.color}\n        size={iconSize}\n      />\n    );\n  }, [icon, iconSize, animatedFocus]);\n  const renderLabel = useCallback(() => {\n    return animation !== 'iconOnly' ? (\n      <Animated.Text onLayout={handleLabelLayout} style={labelStyle}>\n        {label}\n      </Animated.Text>\n    ) : null;\n  }, [label, animation, labelStyle, handleLabelLayout]);\n  return (\n    <Animated.View style={outerContainerStyle}>\n      <Animated.View style={innerContainerStyle}>\n        <Animated.View style={iconContainerStyle}>{renderIcon()}</Animated.View>\n        {renderLabel()}\n      </Animated.View>\n    </Animated.View>\n  );\n};\n\nconst MaterialTabBarItem = memo(MaterialTabBarItemComponent, isEqual);\n\nexport default MaterialTabBarItem;\n"]}