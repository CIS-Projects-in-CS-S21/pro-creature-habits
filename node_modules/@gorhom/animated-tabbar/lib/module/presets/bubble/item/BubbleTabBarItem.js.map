{"version":3,"sources":["BubbleTabBarItem.tsx"],"names":["React","useMemo","memo","View","Text","Animated","interpolateColor","useValue","isEqual","interpolate","styles","add","BubbleTabBarItemComponent","animatedFocus","label","icon","background","labelStyle","labelStyleOverride","spacing","iconSize","isRTL","innerVerticalSpace","innerHorizontalSpace","outerVerticalSpace","outerHorizontalSpace","labelWidth","minWidth","maxWidth","animatedIconColor","inputRange","outputRange","inactiveColor","activeColor","containerStyle","container","paddingHorizontal","paddingVertical","width","contentContainerStyle","contentContainer","flexDirection","borderRadius","backgroundColor","labelContainerStyle","labelContainer","opacity","iconContainerStyle","iconContainer","minHeight","handleTextLayout","nativeEvent","layout","requestAnimationFrame","setValue","renderIcon","IconComponent","component","color","size","BubbleTabBarItem"],"mappings":"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","sourcesContent":["import React, { useMemo, memo } from 'react';\nimport { View, Text, LayoutChangeEvent } from 'react-native';\nimport Animated from 'react-native-reanimated';\nimport { interpolateColor, useValue } from 'react-native-redash/lib/module/v1';\n// @ts-ignore ðŸ˜ž\nimport isEqual from 'lodash.isequal';\nimport { interpolate } from '../../../utilities';\nimport type { BubbleTabBarItemProps } from '../types';\nimport { styles } from './styles';\n\nconst { add } = Animated;\n\nconst BubbleTabBarItemComponent = ({\n  animatedFocus,\n  label,\n  icon,\n  background,\n  labelStyle: labelStyleOverride,\n  spacing,\n  iconSize,\n  isRTL,\n}: BubbleTabBarItemProps) => {\n  //#region extract props\n  const {\n    innerVerticalSpace,\n    innerHorizontalSpace,\n    outerVerticalSpace,\n    outerHorizontalSpace,\n  } = spacing;\n  //#endregion\n\n  //#region variables\n  const labelWidth = useValue<number>(0);\n  /**\n   * @DEV\n   * min width is calculated by adding outer & inner spaces\n   * with the icon size.\n   */\n  const minWidth = useMemo(() => {\n    return innerHorizontalSpace * 2 + iconSize + outerHorizontalSpace * 2;\n  }, [innerHorizontalSpace, outerHorizontalSpace, iconSize]);\n  /**\n   * @DEV\n   * max width is calculated by adding inner space with label width\n   */\n  const maxWidth = add(labelWidth, innerHorizontalSpace, minWidth);\n  //#endregion\n\n  //#region styles\n  const animatedIconColor = interpolateColor(animatedFocus, {\n    inputRange: [0, 1],\n    outputRange: [icon.inactiveColor, icon.activeColor],\n  });\n  const containerStyle = [\n    styles.container,\n    {\n      paddingHorizontal: outerHorizontalSpace,\n      paddingVertical: outerVerticalSpace,\n      width: interpolate(animatedFocus, {\n        inputRange: [0, 1],\n        outputRange: [minWidth, maxWidth],\n      }),\n    },\n  ];\n  const contentContainerStyle = [\n    styles.contentContainer,\n    {\n      flexDirection: isRTL ? 'row-reverse' : 'row',\n      paddingHorizontal: innerHorizontalSpace,\n      paddingVertical: innerVerticalSpace,\n      borderRadius: innerVerticalSpace * 2 + iconSize,\n      backgroundColor: interpolateColor(animatedFocus, {\n        inputRange: [0, 1],\n        outputRange: [background.inactiveColor, background.activeColor],\n      }),\n    },\n  ];\n  const labelContainerStyle = [\n    styles.labelContainer,\n    {\n      opacity: interpolate(animatedFocus, {\n        inputRange: [0.33, 1],\n        outputRange: [0, 1],\n      }),\n      [isRTL ? 'left' : 'right']: interpolate(animatedFocus, {\n        inputRange: [0, 1],\n        outputRange: [0, innerHorizontalSpace + outerHorizontalSpace],\n      }),\n    },\n  ];\n  const iconContainerStyle = [\n    styles.iconContainer,\n    {\n      minHeight: iconSize,\n      minWidth: iconSize,\n    },\n  ];\n  const labelStyle = [styles.label, labelStyleOverride];\n  //#endregion\n\n  // callbacks\n  const handleTextLayout = ({\n    nativeEvent: {\n      layout: { width },\n    },\n  }: LayoutChangeEvent) =>\n    requestAnimationFrame(() => labelWidth.setValue(width));\n\n  // render\n  const renderIcon = () => {\n    const IconComponent: any = icon.component;\n    return typeof IconComponent === 'function' ? (\n      IconComponent({\n        animatedFocus,\n        color: animatedIconColor,\n        size: iconSize,\n      })\n    ) : (\n      <IconComponent\n        animatedFocus={animatedFocus}\n        color={animatedIconColor}\n        size={iconSize}\n      />\n    );\n  };\n\n  return (\n    <Animated.View style={containerStyle}>\n      <Animated.View style={contentContainerStyle}>\n        <View style={iconContainerStyle}>{renderIcon()}</View>\n      </Animated.View>\n      <Animated.View style={labelContainerStyle}>\n        <Text onLayout={handleTextLayout} style={labelStyle} numberOfLines={1}>\n          {label}\n        </Text>\n      </Animated.View>\n    </Animated.View>\n  );\n};\n\nconst BubbleTabBarItem = memo(BubbleTabBarItemComponent, isEqual);\n\nexport default BubbleTabBarItem;\n"]}